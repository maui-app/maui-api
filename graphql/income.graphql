
type Income {
    user:User @belongsTo
    period:Period @belongsTo
    total:Float
    remainder:Float
    created_at:DateTime
    updated_at:DateTime
}

extend type Mutation @guard {
    addIncome(income:Float!): IncomeAction
}

extend type Mutation @guard {
    updateIncome(income:Float!): IncomeAction
}

extend type Query @guard {
    incomes(user_id:Int!): Incomes
}

extend type Query @guard {
    incomeStats(id:ID): IncomeStats
}

extend type Query @guard {
    currentMonthIncome(id:ID): Income
}

type Incomes {
    incomes: [Income!]!
}

type IncomeAction {
    message:String
    income:Income
    errorId:String
}

type IncomeStats {
    income_total: Float
    income_spent: Float
    income_remainder: Float
}
