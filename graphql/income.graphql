
type Income {
    user:User @belongsTo
    period:Period @belongsTo
    total:String
    remainder:String
    expenses_count: Int
    percent_remainder:String
    created_at:DateTime
    updated_at:DateTime
}

extend type Mutation @guard {
    addIncome(income:Float!, currency:String): IncomeAction
}

extend type Mutation @guard {
    updateIncome(income:Float!): IncomeAction
}

extend type Query @guard {
    incomes(page: Int! @rules(apply: ["min:1"]), number: Int! @rules(apply: ["min:1"])): Incomes
}

extend type Query @guard {
    incomeStats(id:ID): IncomeStats
}

extend type Query @guard {
    currentMonthIncome(id:ID): Income
}

type Incomes {
    incomes: [Income!]!
    pagination: Pagination
}

type IncomeAction {
    message:String
    income:Income
    errorId:String
}

type IncomeStats {
    income_total: String
    income_spent: String
    income_remainder: String
}
